<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="google-adsense-account" content="ca-pub-2625609735952352">
    <meta name="description" content="Watch Makkah Live 24/7 and listen to Holy Quran Radio from Cairo and Saudi Arabia. Read biographies of famous reciters and learn about the history of Quranic broadcasting.">
    <meta name="keywords" content="Quran Live, Makkah Live, Quran Radio Cairo, Saudi Quran Radio, Maher Al Muaiqly, Islamic Radio, Tajweed, Quran History">
    <meta name="author" content="Mohamed Ibrahim">
    <title>Holy Quran Live Stream & Knowledge Hub</title>
    
    <!-- Google AdSense -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2625609735952352" crossorigin="anonymous"></script>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Amiri:ital,wght@0,400;0,700;1,400&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
    
    <!-- Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #0f172a; /* Slate 900 */
            color: #f8fafc;
        }
        .font-arabic {
            font-family: 'Amiri', serif;
        }
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #1e293b; }
        ::-webkit-scrollbar-thumb { background: #475569; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #64748b; }
        
        /* Animated Bars */
        .bar {
            width: 6px;
            background: #10b981;
            border-radius: 9999px;
            animation: bounce 1.2s infinite ease-in-out;
            transition: height 0.2s ease;
        }
        .bar:nth-child(2) { animation-delay: 0.1s; height: 40px; }
        .bar:nth-child(3) { animation-delay: 0.2s; height: 50px; }
        .bar:nth-child(4) { animation-delay: 0.3s; height: 35px; }
        .bar:nth-child(5) { animation-delay: 0.4s; height: 45px; }
        
        @keyframes bounce {
            0%, 100% { transform: scaleY(0.5); opacity: 0.5; }
            50% { transform: scaleY(1.2); opacity: 1; }
        }

        .active-channel {
            background-color: #10b981; /* Emerald 500 */
            color: white;
            border-color: #10b981;
        }
        
        /* Content Styling for AdSense Quality */
        .prose-custom h2 { color: #f8fafc; font-size: 1.5rem; font-weight: 700; margin-top: 2rem; margin-bottom: 1rem; border-bottom: 1px solid #334155; padding-bottom: 0.5rem; }
        .prose-custom h3 { color: #34d399; font-size: 1.25rem; font-weight: 600; margin-top: 1.5rem; margin-bottom: 0.75rem; }
        .prose-custom p { color: #cbd5e1; line-height: 1.8; margin-bottom: 1rem; font-size: 1rem; }
        .prose-custom ul { list-style-type: disc; padding-left: 1.5rem; margin-bottom: 1.5rem; color: #cbd5e1; }
        .prose-custom li { margin-bottom: 0.5rem; }
        
        .modal { transition: opacity 0.3s ease-in-out; opacity: 0; pointer-events: none; }
        .modal.active { opacity: 1; pointer-events: auto; }
        
        .play-overlay { transition: all 0.3s ease; }
        .play-overlay:hover { transform: scale(1.05); }
    </style>
</head>
<body class="flex flex-col min-h-screen">

    <!-- Navbar -->
    <nav class="bg-slate-900/90 border-b border-slate-800 backdrop-blur-md sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <div class="flex items-center gap-3">
                    <div class="w-10 h-10 bg-emerald-600 rounded-full flex items-center justify-center text-white shadow-lg shadow-emerald-500/20">
                        <i data-lucide="book-open" class="w-6 h-6"></i>
                    </div>
                    <div>
                        <h1 class="text-lg font-bold text-white tracking-wide">QuranLive</h1>
                        <p class="text-xs text-emerald-400 font-arabic tracking-wider">القرآن الكريم بث مباشر</p>
                    </div>
                </div>
                
                <div class="flex items-center gap-2 bg-red-500/10 px-3 py-1 rounded-full border border-red-500/20">
                    <span class="relative flex h-2.5 w-2.5">
                      <span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-red-500 opacity-75"></span>
                      <span class="relative inline-flex rounded-full h-2.5 w-2.5 bg-red-500"></span>
                    </span>
                    <span class="text-xs font-semibold text-red-400 uppercase tracking-widest">Live</span>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="flex-grow container mx-auto px-4 py-8 flex flex-col items-center">
        
        <!-- Google AdSense Unit (Top) -->
        <div class="w-full max-w-4xl max-h-96 mb-8 bg-slate-800/50 rounded-lg shadow-sm border border-slate-700/50 overflow-hidden relative" style="min-height: 200px;">
            <p class="text-[10px] text-slate-600 pt-2 uppercase tracking-widest absolute top-0 left-0 w-full text-center">Advertisement</p>
            <div class="pt-6 px-2 w-full">
                <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2625609735952352" crossorigin="anonymous"></script>
                <ins class="adsbygoogle"
                     style="display:block"
                     data-ad-format="autorelaxed"
                     data-ad-client="ca-pub-2625609735952352"
                     data-ad-slot="3954163232"></ins>
                <script> (adsbygoogle = window.adsbygoogle || []).push({}); </script>
            </div>
        </div>
        
        <!-- Player Container -->
        <div class="w-full max-w-4xl bg-slate-800 rounded-2xl overflow-hidden shadow-2xl shadow-black/50 border border-slate-700">
            
            <!-- Video/Audio Area -->
            <div id="player-screen" class="aspect-video w-full bg-black relative flex items-center justify-center">
                <!-- Loading Spinner -->
                <div id="loader" class="absolute inset-0 flex items-center justify-center z-0">
                    <div class="animate-spin rounded-full h-12 w-12 border-b-2 border-emerald-500"></div>
                </div>

                <!-- Video Iframe -->
                <iframe 
                    id="video-player"
                    class="w-full h-full relative z-10" 
                    src="" 
                    title="Live Stream" 
                    frameborder="0" 
                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
                    allowfullscreen>
                </iframe>

                <!-- Audio Visualization -->
                <div id="audio-visualizer" class="hidden absolute inset-0 z-20 bg-slate-900 flex-col items-center justify-center bg-[url('https://images.unsplash.com/photo-1597843702131-4876258d4a93?q=80&w=2070&auto=format&fit=crop')] bg-cover bg-center">
                    <div class="absolute inset-0 bg-black/70 backdrop-blur-sm"></div>
                    <div class="relative z-10 text-center px-4 w-full max-w-lg">
                        <div class="w-24 h-24 bg-emerald-600/20 rounded-full flex items-center justify-center mx-auto mb-6 border-2 border-emerald-500/50">
                            <i data-lucide="radio" class="w-10 h-10 text-emerald-400"></i>
                        </div>
                        <h2 id="audio-title" class="text-2xl font-bold text-white mb-2 font-arabic">Quran Radio</h2>
                        <p id="audio-subtitle" class="text-slate-300 mb-8">Live Audio Stream</p>
                        
                        <!-- Visualizer Bars -->
                        <div id="bars-container" class="flex items-end justify-center gap-1 h-12 mb-8 opacity-50">
                            <div class="bar h-8"></div>
                            <div class="bar h-12"></div>
                            <div class="bar h-6"></div>
                            <div class="bar h-10"></div>
                            <div class="bar h-7"></div>
                            <div class="bar h-11"></div>
                            <div class="bar h-5"></div>
                        </div>

                        <!-- Manual Play Button -->
                        <button id="manual-play-btn" onclick="toggleAudio()" class="play-overlay w-16 h-16 bg-emerald-500 rounded-full flex items-center justify-center text-white shadow-xl hover:bg-emerald-400 mb-6 mx-auto">
                            <i id="play-icon" data-lucide="play" class="w-8 h-8 fill-current ml-1"></i>
                        </button>
                        
                        <p id="status-text" class="text-xs text-slate-400 mt-2 opacity-70">Tap to Play</p>

                        <!-- Native Audio Element -->
                        <audio id="audio-player" class="hidden" preload="none"></audio>
                    </div>
                </div>
            </div>

            <!-- Controls / Info -->
            <div class="p-6 bg-slate-800">
                <div class="flex flex-col md:flex-row items-start md:items-center justify-between gap-4">
                    <div>
                        <h2 id="current-channel-name" class="text-xl font-bold text-white flex items-center gap-2">
                            <i data-lucide="tv" class="w-5 h-5 text-emerald-500"></i>
                            Makkah Live
                        </h2>
                        <p class="text-slate-400 text-sm mt-1">Official Broadcast</p>
                    </div>
                    
                    <div class="flex gap-2">
                        <a id="external-link" href="#" target="_blank" class="flex items-center gap-2 px-4 py-2 bg-slate-700 hover:bg-slate-600 text-slate-200 rounded-lg transition-colors text-sm font-medium border border-slate-600">
                            <i data-lucide="external-link" class="w-4 h-4"></i>
                            <span>Watch on YouTube</span>
                        </a>
                        <button onclick="shareLink()" class="flex items-center gap-2 px-4 py-2 bg-emerald-600 hover:bg-emerald-500 text-white rounded-lg transition-colors text-sm font-medium shadow-lg shadow-emerald-600/20">
                            <i data-lucide="share-2" class="w-4 h-4"></i>
                            <span>Share</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Channel Selector -->
        <div class="w-full max-w-4xl mt-8">
            <h3 class="text-slate-400 text-sm font-semibold uppercase tracking-wider mb-4 flex items-center gap-2">
                <i data-lucide="list" class="w-4 h-4"></i> Select Channel / اختر القناة
            </h3>
            
            <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                <button onclick="switchChannel('makkah')" id="btn-makkah" class="channel-btn active-channel p-4 rounded-xl border border-slate-700 bg-slate-800 hover:border-emerald-500 transition-all text-left group">
                    <div class="flex items-start justify-between mb-2">
                        <i data-lucide="video" class="w-5 h-5 group-hover:text-emerald-400 transition-colors"></i>
                        <span class="text-xs font-bold px-2 py-0.5 rounded bg-black/30 text-emerald-400">HD Live</span>
                    </div>
                    <div class="font-bold text-lg mb-1">Makkah Live</div>
                    <div class="font-arabic text-sm opacity-70">الحرم المكي مباشر</div>
                </button>

                <button onclick="switchChannel('radio_cairo')" id="btn-radio_cairo" class="channel-btn p-4 rounded-xl border border-slate-700 bg-slate-800 hover:border-emerald-500 transition-all text-left group text-slate-300 hover:text-white">
                    <div class="flex items-start justify-between mb-2">
                        <i data-lucide="radio" class="w-5 h-5 group-hover:text-emerald-400 transition-colors"></i>
                        <span class="text-xs font-bold px-2 py-0.5 rounded bg-black/30 text-blue-400">Cairo FM</span>
                    </div>
                    <div class="font-bold text-lg mb-1">Quran Cairo</div>
                    <div class="font-arabic text-sm opacity-70">إذاعة القرآن - القاهرة</div>
                </button>

                <button onclick="switchChannel('radio_saudi')" id="btn-radio_saudi" class="channel-btn p-4 rounded-xl border border-slate-700 bg-slate-800 hover:border-emerald-500 transition-all text-left group text-slate-300 hover:text-white">
                    <div class="flex items-start justify-between mb-2">
                        <i data-lucide="radio" class="w-5 h-5 group-hover:text-emerald-400 transition-colors"></i>
                        <span class="text-xs font-bold px-2 py-0.5 rounded bg-black/30 text-blue-400">Saudi FM</span>
                    </div>
                    <div class="font-bold text-lg mb-1">Saudi Quran</div>
                    <div class="font-arabic text-sm opacity-70">إذاعة القرآن - السعودية</div>
                </button>

                <button onclick="switchChannel('radio_maher')" id="btn-radio_maher" class="channel-btn p-4 rounded-xl border border-slate-700 bg-slate-800 hover:border-emerald-500 transition-all text-left group text-slate-300 hover:text-white">
                    <div class="flex items-start justify-between mb-2">
                        <i data-lucide="mic" class="w-5 h-5 group-hover:text-emerald-400 transition-colors"></i>
                        <span class="text-xs font-bold px-2 py-0.5 rounded bg-black/30 text-blue-400">Reciter</span>
                    </div>
                    <div class="font-bold text-lg mb-1">Maher Al Muaiqly</div>
                    <div class="font-arabic text-sm opacity-70">ماهر المعيقلي</div>
                </button>
            </div>
        </div>

        <!-- NEW: Substantial Content Section for AdSense Approval -->
        <!-- This section provides original, high-value text content which is critical for meeting AdSense criteria -->
        <section class="w-full max-w-4xl mt-12 mb-8 bg-slate-800/50 rounded-2xl p-8 border border-slate-700 prose-custom">
            
            <!-- Introduction -->
            <div class="text-center mb-10">
                <blockquote class="text-2xl font-arabic leading-loose text-emerald-100 mb-2">"وَرَتِّلِ الْقُرْآنَ تَرْتِيلًا"</blockquote>
                <p class="text-slate-400 text-sm italic">"And recite the Qur'an with measured recitation." (Surah Al-Muzzammil, 73:4)</p>
            </div>

            <!-- Tabbed Content or Stacked Articles -->
            <div class="space-y-12">
                
                <!-- Article 1: History of Quran Radio -->
                <article class="clearfix">
                    <img src="https://images.unsplash.com/photo-1595068994462-27367d35367d?q=80&w=400&auto=format&fit=crop" 
                         alt="Vintage Microphone" 
                         class="float-none md:float-right ml-0 md:ml-6 mb-4 rounded-xl shadow-lg w-full md:w-72 border border-slate-700 object-cover h-48">
                    <h2>The Legacy of Quran Radio Cairo</h2>
                    <p>
                        Established on March 29, 1964, the <strong>Quran Radio from Cairo (Idha'at al-Quran al-Karim)</strong> holds a distinct place in the hearts of Muslims worldwide. It was the first specialized radio station in the world dedicated entirely to the broadcast of the Holy Quran and Islamic programs.
                    </p>
                    <p>
                        The station was founded under the directive of the late President Gamal Abdel Nasser to counter distorted versions of the Quran that were appearing at the time. It became a fortress for the preservation of the authentic oral tradition of Quranic recitation (Tajweed).
                    </p>
                    <h3>Legendary Reciters</h3>
                    <p>
                        Cairo Radio introduced the world to the "Golden Generation" of Egyptian reciters. Legends such as <strong>Mahmoud Khalil Al-Hussary</strong>, <strong>Abdul Basit Abdul Samad</strong>, <strong>Mustafa Ismail</strong>, and <strong>Mohamed Siddiq El-Minshawi</strong> became household names through this frequency. Their recordings, rigorously verified by Al-Azhar scholars, remain the standard for correct recitation today.
                    </p>
                </article>

                <!-- Article 2: Biography -->
                <article class="clearfix">
                    <img src="https://placehold.co/400x400/1e293b/10b981?text=Sheikh+Maher\n(Photo)" 
                         alt="Sheikh Maher Al Muaiqly" 
                         class="float-none md:float-left mr-0 md:mr-6 mb-4 rounded-xl shadow-lg w-full md:w-64 border border-slate-700">
                    <h2>Reciter Spotlight: Sheikh Maher Al Muaiqly</h2>
                    <p>
                        Sheikh Maher bin Hamad Al Muaiqly is one of the most beloved Imams of the Grand Mosque (Masjid Al-Haram) in Makkah. Known for his emotional and soulful voice, his recitation style is widely recognized for its clarity and ability to move listeners to tears.
                    </p>
                    <h3>Early Life and Education</h3>
                    <p>
                        Born in Madinah in 1969, Sheikh Maher was a mathematics teacher before dedicating his life fully to the Quran. He memorized the Holy Quran at a young age and pursued higher Islamic studies, earning a Master’s degree in Sharia from Umm Al-Qura University in 2004 and later a PhD.
                    </p>
                    <p>
                        He led prayers at Masjid Al-Nabawi in Madinah during Ramadan in 2005 and 2006, before being appointed as a permanent Imam at Masjid Al-Haram in Makkah in 2007. His recitation is broadcast daily on our specialized channel here.
                    </p>
                </article>

                <!-- NEW: Legends of Recitation Section -->
                <article class="clearfix">
                    <img src="https://placehold.co/400x400/1e293b/10b981?text=Sheikh+Abdul+Basit\n(Photo)" 
                         alt="Sheikh Abdul Basit Abdul Samad" 
                         class="float-none md:float-right ml-0 md:ml-6 mb-4 rounded-xl shadow-lg w-full md:w-64 border border-slate-700">
                    <h2>The Golden Throat: Sheikh Abdul Basit Abdul Samad</h2>
                    <p>
                        Sheikh Abdul Basit Abdul Samad (1927–1988) is arguably the most famous Quran reciter in modern history. Known as "The Golden Throat" and "The Voice of Mecca," his recitation style transcended borders and captivated listeners across the globe.
                    </p>
                    <h3>Unique Style</h3>
                    <p>
                        He was renowned for his extraordinary breath control and his ability to recite for long periods without pausing, often modulating his voice through high octaves with perfect clarity. His recitation of Surah Ar-Rahman and Surah Yusuf remains iconic to this day. In the 1950s, he traveled extensively, reciting in major mosques in Jerusalem, Baghdad, and Karachi, drawing massive crowds that often filled stadiums.
                    </p>
                </article>

                <article class="clearfix">
                    <img src="https://placehold.co/400x400/1e293b/10b981?text=Sheikh+Minshawi\n(Photo)" 
                         alt="Sheikh Mohamed Siddiq Al-Minshawi" 
                         class="float-none md:float-left mr-0 md:mr-6 mb-4 rounded-xl shadow-lg w-full md:w-64 border border-slate-700">
                    <h2>The Weeping Voice: Sheikh Mohamed Siddiq Al-Minshawi</h2>
                    <p>
                        Sheikh Mohamed Siddiq Al-Minshawi (1920–1969) famously possessed "The Weeping Voice" (Al-Sawt Al-Baki). His recitation is characterized by a deep, emotional sadness that instantly humbles the heart of the listener.
                    </p>
                    <h3>A Family of Reciters</h3>
                    <p>
                        Born in Upper Egypt into a family of Quranic reciters, his father was the great Sheikh Siddiq Al-Minshawi. Despite his short life and chronic illness, his recordings are considered treasures of the Islamic world. He was known for his extreme humility and refusal of fame or high positions, preferring to live a simple life dedicated to the Book of Allah.
                    </p>
                </article>

                <article class="clearfix">
                    <img src="https://placehold.co/400x400/1e293b/10b981?text=Sheikh+Hussary\n(Photo)" 
                         alt="Sheikh Mahmoud Khalil Al-Hussary" 
                         class="float-none md:float-right ml-0 md:ml-6 mb-4 rounded-xl shadow-lg w-full md:w-64 border border-slate-700">
                    <h2>The Master of Tajweed: Sheikh Mahmoud Khalil Al-Hussary</h2>
                    <p>
                        Sheikh Mahmoud Khalil Al-Hussary (1917–1980) was a giant of accuracy and precision. He holds the historic distinction of being the first reciter to record the entire Quran in the Murattal style (audio) in 1961, setting the standard for generations of students.
                    </p>
                    <h3>Legacy of Precision</h3>
                    <p>
                        Unlike others who focused on melodic variation, Al-Hussary emphasized the strict rules of Tajweed and clarity of pronunciation above all else. He authored several books on Quranic sciences and was elected the head of the Egyptian Reciters' Union. His recitation is widely recommended for students learning how to pronounce the Arabic letters correctly.
                    </p>
                </article>

                <!-- Article 3: Educational -->
                <article>
                    <h2>The Etiquette (Adab) of Listening to the Quran</h2>
                    <p>
                        Listening to the Quran is not merely a passive act but a form of worship (`Ibadah`) that earns great rewards. To maximize the spiritual benefit, one should observe the following etiquettes:
                    </p>
                    <ul>
                        <li><strong>Attentive Silence (Al-Insat):</strong> Allah says in the Quran, "So when the Qur'an is recited, then listen to it and pay attention that you may receive mercy." (7:204). One should avoid talking or distractions while the Quran is being played.</li>
                        <li><strong>Reflection (Tadabbur):</strong> Try to contemplate the meaning of the verses. Even for non-Arabic speakers, listening with a humble heart can induce a state of spiritual connection.</li>
                        <li><strong>Emotional Response (Khushu):</strong> It is recommended to feel the weight of the words, crying or feeling a sense of awe when verses of punishment or divine majesty are read, and feeling hope when verses of mercy are read.</li>
                        <li><strong>Purity:</strong> While not mandatory for the listener (unlike the one touching the Mushaf), being in a state of Wudu (ablution) is preferable and enhances the sanctity of the experience.</li>
                    </ul>
                </article>

                <!-- FAQ Section -->
                <article>
                    <h2>Frequently Asked Questions (FAQ)</h2>
                    <div class="space-y-4">
                        <div>
                            <h3 class="text-white text-lg font-bold">Why is the audio not playing automatically?</h3>
                            <p class="text-sm">Most modern browsers (Chrome, Safari, Edge) block audio from playing automatically to prevent user annoyance. You simply need to click the large "Play" button on the screen to start the stream.</p>
                        </div>
                        <div>
                            <h3 class="text-white text-lg font-bold">Is this service free?</h3>
                            <p class="text-sm">Yes, this website is completely free. We do not charge for access to any of the live streams from Makkah, Madinah, or the radio stations.</p>
                        </div>
                        <div>
                            <h3 class="text-white text-lg font-bold">What should I do if the stream stops?</h3>
                            <p class="text-sm">We use a smart backup system. If a stream stops, wait a few seconds, and our system will try to switch to a backup server. If it persists, try refreshing the page or checking your internet connection.</p>
                        </div>
                    </div>
                </article>

            </div>
            
            <!-- Disclaimer -->
            <div class="border-t border-slate-700 mt-12 pt-6 text-center text-xs text-slate-500">
                <p><strong>Content Disclaimer:</strong> This website is a transformative work that aggregates public broadcast streams to facilitate access to the Holy Quran. We do not host the stream files directly. All audio and video content belongs to their respective broadcasters (SBA, ERTU, etc.). The articles provided above are original educational content written for this platform.</p>
            </div>
        </section>

    </main>

    <!-- Footer -->
    <footer class="border-t border-slate-800 bg-slate-900 py-8 mt-8">
        <div class="container mx-auto px-4 text-center">
            <div class="flex justify-center gap-4 text-xs text-slate-400 mb-4">
                <button onclick="openModal('privacy')" class="hover:text-emerald-400 underline">Privacy Policy</button>
                <button onclick="openModal('terms')" class="hover:text-emerald-400 underline">Terms of Use</button>
                <button onclick="openModal('contact')" class="hover:text-emerald-400 underline">Contact</button>
            </div>
            <p class="text-slate-500 text-sm">&copy; <script>document.write(new Date().getFullYear())</script> Holy Quran Live. <br>Sources: Official Saudi TV & MP3Quran.net.<br><span class="text-emerald-500/60 mt-2 block">Designed by Mohamed Ibrahim</span></p>
        </div>
    </footer>

    <!-- Modals (Hidden) -->
    <div id="cookie-banner" class="fixed bottom-0 left-0 w-full bg-slate-900 border-t border-slate-700 p-4 z-50 hidden">
        <div class="container mx-auto max-w-7xl flex flex-col sm:flex-row items-center justify-between gap-4">
            <p class="text-slate-300 text-sm text-center sm:text-left">We use cookies to improve your experience. <button onclick="openModal('privacy')" class="text-emerald-400 underline">Privacy Policy</button>.</p>
            <button onclick="acceptCookies()" class="bg-emerald-600 hover:bg-emerald-500 text-white px-6 py-2 rounded-lg text-sm font-bold shadow-lg">Accept</button>
        </div>
    </div>

    <div id="modal-contact" class="modal fixed inset-0 z-[60] flex items-center justify-center p-4">
        <div class="absolute inset-0 bg-black/80 backdrop-blur-sm" onclick="closeModal('contact')"></div>
        <div class="bg-slate-800 rounded-xl p-8 max-w-md w-full relative z-10 border border-slate-700 text-center">
            <button onclick="closeModal('contact')" class="absolute top-4 right-4 text-slate-400 hover:text-white"><i data-lucide="x" class="w-6 h-6"></i></button>
            <h2 class="text-2xl font-bold text-white mb-6">Contact Us</h2>
            <div class="space-y-3">
                <a href="tel:+96566805723" class="flex items-center justify-center gap-3 p-3 rounded-lg bg-slate-700/50 hover:bg-slate-700 transition-colors text-slate-200 group"><i data-lucide="phone" class="w-5 h-5 text-emerald-400"></i><span class="font-medium" dir="ltr">+965 66805723</span></a>
                <a href="mailto:Mohamed.ibrahimx1199@gmail.com" class="flex items-center justify-center gap-3 p-3 rounded-lg bg-slate-700/50 hover:bg-slate-700 transition-colors text-slate-200 group"><i data-lucide="mail" class="w-5 h-5 text-emerald-400"></i><span class="font-medium text-sm break-all">Mohamed.ibrahimx1199@gmail.com</span></a>
                <a href="https://www.linkedin.com/in/mohamed-ibrahim-3928ba1b9" target="_blank" class="flex items-center justify-center gap-3 p-3 rounded-lg bg-slate-700/50 hover:bg-slate-700 transition-colors text-slate-200 group"><i data-lucide="linkedin" class="w-5 h-5 text-emerald-400"></i><span class="font-medium">LinkedIn Profile</span></a>
            </div>
        </div>
    </div>

    <div id="modal-privacy" class="modal fixed inset-0 z-[60] flex items-center justify-center p-4">
        <div class="absolute inset-0 bg-black/80 backdrop-blur-sm" onclick="closeModal('privacy')"></div>
        <div class="bg-slate-800 rounded-xl p-8 max-w-2xl w-full max-h-[80vh] overflow-y-auto relative z-10 border border-slate-700">
            <button onclick="closeModal('privacy')" class="absolute top-4 right-4 text-slate-400 hover:text-white"><i data-lucide="x" class="w-6 h-6"></i></button>
            <h2 class="text-2xl font-bold text-white mb-4">Privacy Policy</h2>
            <div class="prose-custom text-sm">
                <p><strong>1. Introduction</strong><br>Welcome to Holy Quran Live. We respect your privacy and are committed to protecting it.</p>
                <p><strong>2. Cookies & Advertising</strong><br>We use Google AdSense to serve ads. Google may use cookies to personalize ads based on your visits to this and other websites. You can opt out of personalized advertising by visiting Google's Ad Settings.</p>
                <p><strong>3. Content Policy</strong><br>This site provides educational content regarding the Quran and aggregators for public broadcasts. We strive to ensure all text content is accurate and original.</p>
                <p><strong>4. Third-Party Links</strong><br>Our site contains streams from third parties (YouTube, Qurango, Zeno). We are not responsible for their content or privacy practices.</p>
            </div>
        </div>
    </div>

    <div id="modal-terms" class="modal fixed inset-0 z-[60] flex items-center justify-center p-4">
        <div class="absolute inset-0 bg-black/80 backdrop-blur-sm" onclick="closeModal('terms')"></div>
        <div class="bg-slate-800 rounded-xl p-8 max-w-2xl w-full max-h-[80vh] overflow-y-auto relative z-10 border border-slate-700">
            <button onclick="closeModal('terms')" class="absolute top-4 right-4 text-slate-400 hover:text-white"><i data-lucide="x" class="w-6 h-6"></i></button>
            <h2 class="text-2xl font-bold text-white mb-4">Terms of Use</h2>
            <div class="prose-custom text-sm">
                <p><strong>1. Usage</strong><br>This website is for personal, non-commercial spiritual use and educational purposes.</p>
                <p><strong>2. Accuracy</strong><br>While we attempt to ensure the streams are active, we cannot guarantee 100% uptime as they are dependent on third-party broadcasters.</p>
            </div>
        </div>
    </div>

    <script>
        lucide.createIcons();
        if (!localStorage.getItem('cookiesAccepted')) document.getElementById('cookie-banner').classList.remove('hidden');
        function acceptCookies() { localStorage.setItem('cookiesAccepted', 'true'); document.getElementById('cookie-banner').classList.add('hidden'); }
        function openModal(id) { document.getElementById(`modal-${id}`).classList.add('active'); }
        function closeModal(id) { document.getElementById(`modal-${id}`).classList.remove('active'); }

        // RELIABLE STREAMS CONFIGURATION (Multi-source Fallback)
        const channels = {
            makkah: {
                type: 'video',
                src: 'https://www.youtube.com/embed/live_stream?channel=UCos52azQNBgW63_9uDJoPDA', 
                external: 'https://www.youtube.com/channel/UCos52azQNBgW63_9uDJoPDA/live',
                name: 'Makkah Live', arabic: 'الحرم المكي مباشر'
            },
            radio_cairo: {
                type: 'audio',
                // Source List: Zeno (Stable), RadioJar (Backup)
                sources: [
                    'https://stream.zeno.fm/4x4f43v52hhvv',
                    'https://n03.radiojar.com/8s5u5tpdtwzuv'
                ],
                name: 'Quran Radio Cairo', arabic: 'إذاعة القرآن الكريم - القاهرة'
            },
            radio_saudi: {
                type: 'audio',
                // Source List: Qurango, RadioJar
                sources: [
                    'https://backup.qurango.net/radio/saudi',
                    'https://stream.radiojar.com/4wqre23fytzuv'
                ],
                name: 'Saudi Quran Radio', arabic: 'إذاعة القرآن الكريم - السعودية'
            },
            radio_maher: {
                type: 'audio',
                // Source List: Qurango, Backup Qurango, LiveSrv
                sources: [
                    'https://qurango.net/radio/maher',
                    'https://backup.qurango.net/radio/maher',
                    'https://livesrv.mp3quran.net/maher'
                ],
                name: 'Maher Al Muaiqly', arabic: 'الشيخ ماهر المعيقلي'
            }
        };

        const videoPlayer = document.getElementById('video-player');
        const audioPlayer = document.getElementById('audio-player');
        const audioVisualizer = document.getElementById('audio-visualizer');
        const currentChannelName = document.getElementById('current-channel-name');
        const audioTitle = document.getElementById('audio-title');
        const audioSubtitle = document.getElementById('audio-subtitle');
        const externalLink = document.getElementById('external-link');
        const manualPlayBtn = document.getElementById('manual-play-btn');
        const playIcon = document.getElementById('play-icon');
        const barsContainer = document.getElementById('bars-container');
        const statusText = document.getElementById('status-text');

        let currentChannelId = 'makkah';
        let currentSourceIndex = 0; // Tracks which source we are trying

        function updatePlayState(playing) {
            if (playing) {
                playIcon.setAttribute('data-lucide', 'pause'); 
                manualPlayBtn.innerHTML = `<i data-lucide="pause" class="w-8 h-8 fill-current ml-0.5"></i>`;
                barsContainer.classList.remove('opacity-50');
                statusText.innerText = "Now Playing";
            } else {
                manualPlayBtn.innerHTML = `<i data-lucide="play" class="w-8 h-8 fill-current ml-1"></i>`;
                barsContainer.classList.add('opacity-50');
            }
            lucide.createIcons();
        }
        
        function toggleAudio() {
            if (audioPlayer.paused) {
                const playPromise = audioPlayer.play();
                if (playPromise !== undefined) {
                    playPromise.then(() => updatePlayState(true)).catch(e => {
                        statusText.innerText = "Tap again / Loading...";
                    });
                }
            } else {
                audioPlayer.pause();
                updatePlayState(false);
                statusText.innerText = "Paused";
            }
        }

        function tryNextSource() {
            const channel = channels[currentChannelId];
            if (!channel || !channel.sources) return;

            currentSourceIndex++;
            if (currentSourceIndex < channel.sources.length) {
                const nextSrc = channel.sources[currentSourceIndex];
                console.log(`Trying source ${currentSourceIndex + 1}: ${nextSrc}`);
                statusText.innerText = `Connecting (Source ${currentSourceIndex + 1})...`;
                
                audioPlayer.src = nextSrc;
                audioPlayer.load();
                audioPlayer.play().then(() => updatePlayState(true)).catch(e => {
                    console.log("Play failed for source " + currentSourceIndex);
                });
            } else {
                statusText.innerText = "Offline (All sources failed)";
                updatePlayState(false);
            }
        }

        audioPlayer.addEventListener('error', function(e) {
            tryNextSource();
        });

        function switchChannel(channelId) {
            const channel = channels[channelId];
            if (!channel) return;

            currentSourceIndex = 0; // Reset to first source

            document.querySelectorAll('.channel-btn').forEach(btn => {
                btn.classList.remove('active-channel', 'text-white');
                btn.classList.add('text-slate-300');
            });
            document.getElementById(`btn-${channelId}`).classList.add('active-channel');
            document.getElementById(`btn-${channelId}`).classList.remove('text-slate-300');

            currentChannelName.innerHTML = `<i data-lucide="${channel.type === 'video' ? 'tv' : 'radio'}" class="w-5 h-5 text-emerald-500"></i> ${channel.name}`;
            
            if (channel.type === 'video') {
                externalLink.href = channel.external;
                externalLink.classList.remove('hidden');
                
                audioPlayer.pause();
                audioPlayer.src = "";
                updatePlayState(false);
                
                audioVisualizer.classList.add('hidden');
                videoPlayer.classList.remove('hidden');
                videoPlayer.src = channel.src + "&autoplay=1&mute=0&playsinline=1"; 
            } else {
                externalLink.classList.add('hidden');
                videoPlayer.src = "";
                videoPlayer.classList.add('hidden');
                
                audioVisualizer.classList.remove('hidden');
                audioVisualizer.classList.add('flex');
                
                audioTitle.innerText = channel.arabic;
                audioSubtitle.innerText = channel.name;
                statusText.innerText = "Connecting...";
                
                // Start with the first source in the array
                if (channel.sources && channel.sources.length > 0) {
                    audioPlayer.src = channel.sources[0];
                } else if (channel.src) {
                    audioPlayer.src = channel.src; // Fallback for single src (shouldn't happen with new config)
                }
                
                audioPlayer.load();
                const playPromise = audioPlayer.play();
                if (playPromise !== undefined) {
                    playPromise.then(() => updatePlayState(true)).catch(error => {
                        updatePlayState(false);
                        statusText.innerText = "Tap Play Button";
                    });
                }
            }
            currentChannelId = channelId;
            lucide.createIcons();
        }

        window.addEventListener('DOMContentLoaded', () => { switchChannel('makkah'); });
        function shareLink() {
            if (navigator.share) navigator.share({ title: 'Holy Quran Live', url: window.location.href });
            else { navigator.clipboard.writeText(window.location.href); alert('Link copied!'); }
        }
    </script>
</body>
</html>